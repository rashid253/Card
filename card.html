<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shop Card</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
:root{
  --primary:#2563eb;
  --bg:#f1f5f9;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#64748b;
  --radius:12px;
}
body{margin:0;font-family:system-ui;background:var(--bg);color:var(--text)}
.card-wrapper{padding:12px;max-width:600px;margin:20px auto;background:var(--card);border-radius:var(--radius);box-shadow:0 8px 20px rgba(0,0,0,.12);}
.profile{display:flex;gap:16px;align-items:center;padding:12px;background:#e2e8f0;border-radius:12px;}
.profile img{width:90px;height:90px;border-radius:50%;object-fit:cover;border:2px solid var(--primary);}
.info{font-size:14px;}
.info #name{font-weight:700;font-size:18px;margin-top:6px;}
.info #business{font-weight:600;margin-bottom:6px;}
.info p{margin:2px 0;color:var(--muted);}
.actions{display:flex;justify-content:space-around;padding:12px;background:var(--primary);border-radius:12px;margin-top:10px;}
.actions a{color:white;font-size:20px;}
.offers{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;margin-top:10px;gap:12px;}
.offer{min-width:90%;margin-right:12px;background:var(--primary);border-radius:12px;padding:10px;scroll-snap-align:center;color:white;display:flex;gap:12px;align-items:center;cursor:pointer;position:relative;}
.offer img{max-width:100px;max-height:80px;border-radius:8px;background:white;}
.offer .hot-badge{position:absolute;top:6px;left:6px;background:yellow;color:black;padding:2px 6px;border-radius:6px;font-size:10px;font-weight:600;}
.offerContent{flex:1;}
.offer button{padding:6px 12px;border-radius:20px;border:1px solid white;background:transparent;color:white;font-size:13px;margin-top:6px;}
.back-btn{display:inline-block;margin:12px;color:var(--primary);font-weight:600;cursor:pointer;}
</style>
</head>
<body>

<div class="back-btn" onclick="backToBazar()">‚Üê Back to Bazar</div>
<div class="card-wrapper" id="cardWrapper">
  <!-- Dynamic content will load here from bazar.html -->
</div>

<script>
// Receive data from bazar.html via localStorage
let cardData = localStorage.getItem("selectedCard");
if(cardData){
  cardData = JSON.parse(cardData);
  const wrapper = document.getElementById("cardWrapper");
  wrapper.innerHTML=`
  <div class="profile">
    <img src="${cardData.profileImage||''}">
    <div class="info">
      <div id="name">${cardData.name||''}</div>
      <div id="business">${cardData.businessName||''}</div>
      <p>üìû ${cardData.phone||''}</p>
      <p>‚úâÔ∏è ${cardData.email||''}</p>
      <p>üìç ${cardData.address||''}</p>
    </div>
  </div>
  <div class="about">${cardData.businessInfo||''}</div>
  ${cardData.shopAppLink?`<div class="ctaBar" onclick="location.href='${cardData.shopAppLink}'">${cardData.shopAppImage?`<img src='${cardData.shopAppImage}' loading='lazy'>`:""}<div>Shop on official app</div></div>`:""}
  <div class="offers">${cardData.offers.map(o=>`
    <div class="offer" onclick="location.href='https://wa.me/${cardData.phone}?text=${encodeURIComponent(`Hello, I am interested in your offer: ${o.title} ${o.desc}`)}'">
      ${o.image?`<img src='${o.image}' loading='lazy'>`:""}
      <div class="offerContent">
        <h3>üî• ${o.title}</h3>
        <p>${o.desc}</p>
        <button>Get Offer</button>
      </div>
      <div class="hot-badge">HOT</div>
    </div>`).join('')}
  </div>
  <div class="actions">
    <a href="tel:${cardData.phone}"><i class="fa fa-phone"></i></a>
    <a href="https://wa.me/${cardData.phone}"><i class="fab fa-whatsapp"></i></a>
    <a href="mailto:${cardData.email}"><i class="fa fa-envelope"></i></a>
    <a href="https://maps.google.com/?q=${encodeURIComponent(cardData.address)}"><i class="fa-solid fa-location-dot"></i></a>
  </div>
  `;
}

// Back button
function backToBazar(){
  window.location.href="bazar.html";
}
</script>

</body>
</html>
