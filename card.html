<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Digital Business Card</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
:root{
 --fs:15px;
 --lh:1.55;
}

*{box-sizing:border-box}

body{
 margin:0;
 font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
 font-size:var(--fs);
 line-height:var(--lh);
 background:#f1f5f9;
 color:#0f172a;
 padding-bottom:140px; /* ðŸ”¥ FIX: bottom content safe */
}

/* CARD */
.card{
 max-width:420px;
 margin:16px auto;
 background:#fff;
 border-radius:22px;
 box-shadow:0 10px 25px rgba(0,0,0,.08);
 overflow:hidden;
}

/* PROFILE */
.profile{
 text-align:center;
 padding:20px;
}
.profile img{
 width:120px;
 height:120px;
 border-radius:50%;
 object-fit:cover;
}
.profile h2{margin:12px 0 4px}
.profile p{opacity:.7;font-size:14px}

/* BUSINESS INFO */
.info{
 padding:16px;
 border-top:1px solid #e5e7eb;
}
.info div{
 display:flex;
 gap:10px;
 margin-bottom:10px;
 font-size:14px;
}
.info i{color:#2563eb;margin-top:3px}

/* OFFERS */
.offers{
 display:flex;
 overflow-x:auto;
 gap:12px;
 padding:16px;
}
.offer{
 min-width:90%;
 background:#2563eb;
 color:#fff;
 border-radius:18px;
 overflow:hidden;
 display:flex;
 flex-direction:column;
}
.offer img{
 width:100%;
 height:200px;
 object-fit:cover;
 display:block;
}
.offerContent{
 padding:14px;
}
.offerContent h3{margin:0 0 6px;font-size:16px}
.offerContent p{font-size:14px;opacity:.9}

/* SOCIAL FLOAT */
.socialStack{
 position:fixed;
 right:14px;
 bottom:110px; /* ðŸ”¥ safe zone */
 display:flex;
 flex-direction:column;
 gap:10px;
 z-index:999;
}
.socialStack a{
 width:48px;
 height:48px;
 border-radius:50%;
 display:flex;
 align-items:center;
 justify-content:center;
 color:#fff;
 font-size:20px;
 text-decoration:none;
}
.wa{background:#25D366}
.fb{background:#1877f2}

/* BOTTOM BAR */
.bottomBar{
 position:fixed;
 left:0;
 right:0;
 bottom:0;
 background:#fff;
 border-top:1px solid #e5e7eb;
 display:flex;
 justify-content:space-around;
 padding:10px 0;
 z-index:998;
}
.bottomBar a{
 text-decoration:none;
 color:#2563eb;
 font-weight:600;
 font-size:14px;
}
</style>
</head>

<body>

<div class="card">

 <!-- PROFILE -->
 <div class="profile">
  <img id="profilePreview" src="https://via.placeholder.com/300">
  <h2>Business Name</h2>
  <p>Short business tagline</p>

  <!-- IMAGE INPUT (same, but optimized automatically) -->
  <input type="file" id="imageInput" accept="image/*">
 </div>

 <!-- BUSINESS INFO -->
 <div class="info">
  <div><i class="fa-solid fa-clock"></i> 9:00 AM â€“ 9:00 PM</div>
  <div><i class="fa-solid fa-phone"></i> 0300-0000000</div>
  <div><i class="fa-solid fa-location-dot"></i> Faisalabad, Pakistan</div>
 </div>

 <!-- OFFERS -->
 <div class="offers">
  <div class="offer">
   <img src="https://via.placeholder.com/800x500">
   <div class="offerContent">
    <h3>Special Offer</h3>
    <p>Limited time discount available</p>
   </div>
  </div>
 </div>

</div>

<!-- FLOATING SOCIAL -->
<div class="socialStack">
 <a class="wa" href="#"><i class="fab fa-whatsapp"></i></a>
 <a class="fb" href="#"><i class="fab fa-facebook-f"></i></a>
</div>

<!-- BOTTOM BAR -->
<div class="bottomBar">
 <a href="#">Call</a>
 <a href="#">WhatsApp</a>
 <a href="#">Share</a>
</div>

<!-- ðŸ”¥ IMAGE AUTO RESIZE + COMPRESS -->
<script>
const input = document.getElementById("imageInput");
const preview = document.getElementById("profilePreview");

input.addEventListener("change", ()=>{
 const file = input.files[0];
 if(!file) return;

 const reader = new FileReader();
 reader.onload = e => compress(e.target.result);
 reader.readAsDataURL(file);
});

function compress(src){
 const img = new Image();
 img.onload = ()=>{
  const canvas = document.createElement("canvas");
  const max = 800;
  const scale = Math.min(1, max / img.width);

  canvas.width = img.width * scale;
  canvas.height = img.height * scale;

  const ctx = canvas.getContext("2d");
  ctx.drawImage(img,0,0,canvas.width,canvas.height);

  const optimized = canvas.toDataURL("image/jpeg",0.7);
  preview.src = optimized;

  /* ðŸ”¥ Use this optimized image everywhere */
  window.optimizedImage = optimized;
 };
 img.src = src;
}
</script>

</body>
</html>
