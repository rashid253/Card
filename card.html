<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Digital Card</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
:root{
 --primary:#020617;
 --accent:#22c55e;
 --bg:#f8fafc;
 --card:#ffffff;
 --muted:#64748b;
}

*{box-sizing:border-box}

body{
 margin:0;
 background:var(--bg);
 font-family:system-ui,-apple-system;
 color:#0f172a;
}

.top{
 background:linear-gradient(135deg,#020617,#0f172a);
 padding:26px 16px 60px;
 color:white;
 text-align:center;
}

.avatar{
 width:90px;
 height:90px;
 border-radius:50%;
 background:#22c55e;
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:38px;
 font-weight:700;
 margin:auto;
}

.name{
 margin:12px 0 4px;
 font-size:22px;
 font-weight:700;
}

.tag{
 font-size:14px;
 opacity:.85;
}

.wrapper{
 max-width:560px;
 margin:auto;
 padding:0 14px 90px;
}

.card{
 background:var(--card);
 border-radius:18px;
 padding:16px;
 box-shadow:0 12px 28px rgba(0,0,0,.08);
 margin-top:-40px;
}

.row{
 display:flex;
 align-items:center;
 gap:10px;
 padding:10px 0;
 border-bottom:1px solid #e5e7eb;
 font-size:15px;
}

.row:last-child{border:none}
.row i{color:var(--accent)}

.section{
 background:var(--card);
 border-radius:18px;
 padding:16px;
 box-shadow:0 8px 24px rgba(0,0,0,.06);
 margin-top:14px;
}

.section h3{
 margin:0 0 10px;
 font-size:16px;
}

.more{
 color:var(--accent);
 font-weight:600;
 cursor:pointer;
}

.actions{
 position:fixed;
 bottom:0;
 left:0;
 right:0;
 background:white;
 border-top:1px solid #e5e7eb;
 display:flex;
}

.actions a{
 flex:1;
 padding:12px;
 text-align:center;
 text-decoration:none;
 color:#0f172a;
 font-size:13px;
}

.actions i{
 display:block;
 font-size:20px;
 margin-bottom:4px;
}
</style>
</head>

<body>

<div class="top">
 <div class="avatar" id="avatar"></div>
 <div class="name" id="name"></div>
 <div class="tag">Digital Business Card</div>
</div>

<div class="wrapper">

<div class="card">
 <div class="row"><i class="fas fa-phone"></i><span id="phone"></span></div>
 <div class="row"><i class="fas fa-envelope"></i><span id="email"></span></div>
 <div class="row"><i class="fas fa-location-dot"></i><span id="address"></span></div>
</div>

<div class="section" id="aboutBox" style="display:none">
 <h3><i class="fas fa-circle-info"></i> About</h3>
 <span id="aboutShort"></span>
 <span id="aboutMore" style="display:none"></span>
 <div class="more" id="toggleAbout"></div>
</div>

<div class="section" id="webBox" style="display:none">
 <h3><i class="fas fa-globe"></i> Website</h3>
 <a id="website" target="_blank"></a>
</div>

</div>

<div class="actions">
 <a id="call"><i class="fas fa-phone"></i>Call</a>
 <a id="wa"><i class="fab fa-whatsapp"></i>WhatsApp</a>
 <a id="share"><i class="fas fa-share-nodes"></i>Share</a>
</div>

<script>
const id=new URLSearchParams(location.search).get("id");
const data=JSON.parse(localStorage.getItem("card_"+id));

if(!data){alert("Card not found");location.href="index.html";}

avatar.innerText=data.name.charAt(0).toUpperCase();
name.innerText=data.name;
phone.innerText=data.phone;
email.innerText=data.email || "—";
address.innerText=data.address || "—";

call.href="tel:"+data.phone;
wa.href="https://wa.me/"+data.phone.replace(/\D/g,"");

if(data.about){
 aboutBox.style.display="block";
 if(data.about.length>120){
  aboutShort.innerText=data.about.slice(0,120)+"...";
  aboutMore.innerText=data.about.slice(120);
  toggleAbout.innerText="Read more";
  toggleAbout.onclick=()=>{
   const open=aboutMore.style.display==="inline";
   aboutMore.style.display=open?"none":"inline";
   toggleAbout.innerText=open?"Read more":"Show less";
  };
 }else{
  aboutShort.innerText=data.about;
 }
}

if(data.website){
 webBox.style.display="block";
 website.href=data.website;
 website.innerText=data.website;
}

share.onclick=()=>{
 if(navigator.share){
  navigator.share({
   title:data.name,
   text:data.about,
   url:location.href
  });
 }else{
  prompt("Copy link",location.href);
 }
};
</script>

</body>
</html>
