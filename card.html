<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Business Card</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
body{margin:0;font-family:system-ui;background:#f1f5f9}
.top{background:#0f172a;color:white;padding:12px;display:flex;justify-content:space-around}
.profile{padding:16px;background:white;text-align:center}
.profile img{width:110px;height:110px;border-radius:50%;object-fit:cover}
.actions{display:flex;justify-content:space-around;padding:14px;background:#2563eb}
.actions a{color:white;font-size:22px}
</style>
</head>

<body>

<div class="top">
<a id="share"><i class="fa fa-share"></i></a>
<a id="map"><i class="fa fa-location-dot"></i></a>
<a id="sms"><i class="fa fa-comment"></i></a>
</div>

<div class="profile">
<img id="img">
<h2 id="bname"></h2>
<div id="owner"></div>
<div id="addr"></div>
</div>

<div class="actions">
<a id="call"><i class="fa fa-phone"></i></a>
<a id="wa"><i class="fab fa-whatsapp"></i></a>
</div>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
const db=supabase.createClient(
 "https://dfvnefbxgayxqgjjgtrr.supabase.co",
 "sb_publishable_WypeFELCIlVDlqGY4PdWwA_snqoPUSE"
);

const id=new URLSearchParams(location.search).get("id");
db.from("cards").select("*").eq("id",id).single().then(r=>{
 const d=JSON.parse(r.data.data);
 img.src=d.profileImage||"";
 bname.textContent=d.businessName;
 owner.textContent=d.name+" | "+d.phone;
 addr.textContent=d.address;

 call.href="tel:"+d.phone;
 wa.href="https://wa.me/"+d.phone;
 map.href="https://maps.google.com/?q="+encodeURIComponent(d.address+", Faisalabad");
 sms.href="sms:"+d.phone;
});
</script>
</body>
</html>
